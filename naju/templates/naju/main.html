{% extends 'base.html' %}

{% block content %}
<div class="filter_page">
    <div class="filter_spacer">
        <div class="title area-special">
            <h2>Filter hinzufügen</h2>
            <div class="filter-delete" onclick="open_filters()"><i class="fas fa-times"></i></div>
        </div>
        <div class="input-div selector-line">
            <div class="i">
                <i class="fas fa-tag"></i>
            </div>
            <div class="div">
                <h5>Spalte</h5>

                <div class="select-box area">
                    <div class="option-container area">
                        <div class="option Nummer">
                            <input type="radio" class="radio" id="sidebar-number" name="category">
                            <label for="sidebar-number">Nummer</label>
                        </div>
                        <div class="option Fläche">
                            <input type="radio" class="radio" id="sidebar-area" name="category">
                            <label for="sidebar-area">Fläche</label>
                        </div>
                        {% for param in params %}
                        <div class="option {{param['name']}}">
                            <input type="radio" class="radio" id="sidebar-{{param['name']}}" name="category">
                            <label for="sidebar-{{param['name']}}">{{param['name']}}</label>
                        </div>
                        {% endfor %}
                    </div>

                    <input class="input selected visible" name="type" id="type" value="Nummer" readonly="readonly">

                    <div class="search-box">
                        <input type="text" placeholder="Suche..." />
                    </div>
                </div>

            </div>
            <div class="i arrow">
                <i class="fas fa-angle-down"></i>
            </div>
        </div>
        <div class="input-div pass">
            <div class="i">
                <i class="fas fa-search"></i>
            </div>
            <div class="div">
                <h5>Suche</h5>
                <input class="input" type="text" name="text" id="search">
            </div>
        </div>
        <div class="confirm-field">
            <button id="btnconfirm" onclick="add_type_filter()">
                <div><span>Hinzufügen</span></div><i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>
</div>

<form class="main_page desktop" method="post" style="min-height: 80vh;" autocomplete="off">
    <div class="confirm-field">
        <ul class="header-links">
            <li class="topbar"><a href="{{url_for('naju.add_tree')}}"><i class="fas fa-plus"></i><span>Neuen Baum</span></a></li>
            <li class="topbar"><a href="{{url_for('naju.add_area')}}"><i class="fas fa-plus"></i><span>Neue Fläche</span></a></li>
        </ul>
    </div>
    <div class="filter-line">
        <h2 style="align-self: center; font-size: 2rem;">Bäume</h2>
    </div>
    <div class="filters">
        <h2>Filter:</h2>
        {% for filter in filters %}
        <div class="filter_entry">
            <div class="filter_text">{{filter[0] + ": " + filter[1]}}</div>
            <div class="filter-delete" onclick="remove_type_filter('{{filter[0]}}', '{{filter[1]}}')"><i class="fas fa-times"></i></div>
        </div>
        {% endfor %}
        <div class="filter_entry">
            <div class="filter-delete" onclick="open_filters()"><i class="fas fa-plus"></i></div>
        </div>
    </div>
    <table>
        <thead>
            <tr>
                <th>Fläche</th>
                <th>Nummer</th>
                {% for param in params %}
                <th><a href="{{ url_for('naju.edit_param', id = param['id']) }}">{{param['name']}}</a></th>
                {% endfor %}
                <th class="editable-cell"><a href="{{ url_for('naju.add_param') }}"><i class="fas fa-plus"></i></a></th>
                <th class="editable-cell"><button type="submit" style="cursor: pointer" onclick="return confirm('Wollen sie die aktuell sichtbare Tabelle herunterladen?')"><i class="fas fa-download"></i></button></th>
            </tr>
        </thead>
        <tbody>
            {% for data in datas %}
                {{data|safe}}
            {% endfor %}
        </tbody>
    </table>
</form>
<form class="main_page mobile" method="post" autocomplete="off">
    <div class="main_page" style="margin-bottom: -3rem;">
        <div class="input-div selector-line">
            <div class="i">
                <i class="fas fa-chart-area"></i>
            </div>
            <div class="div">
                <h5>Fläche</h5>

                <div class="select-box area_select">
                    <div class="option-container area_select">
                        {% for area in areas %}
                        <div class="option {{area['name']}}" id="{{area['id']}}">
                            <input type="radio" class="radio" id="sidebar-{{area['id']}}" name="category">
                            <label for="sidebar-{{area['id']}}">{{area['name']}}</label>
                        </div>
                        {% endfor %}
                    </div>

                    {% if areas|length > 0 %}
                    <input class="input selected visible" name="area_select" id="area_select" value="{{areas[0]['name']}}" readonly="readonly" required>
                    {% else %}
                    <input class="input selected visible" name="area_select" id="area_select" value="Keine Fläche gefunden" readonly="readonly" required>
                    {% endif %}
                    <div class="search-box">
                        <input type="text" placeholder="Suche..." />
                    </div>
                </div>

            </div>
            <div class="i arrow">
                <i class="fas fa-angle-down"></i>
            </div>
        </div>
    </div>
    <table>
        <thead>
            <tr>
                <th>Fläche</th>
                <th>Nummer</th>
                <th class="editable-cell"><button type="submit" style="cursor: pointer"><i class="fas fa-download"></i></button></th>
            </tr>
        </thead>
        <tbody>
            {% for tree in trees %}
            <tr>
                <td class="searchable Fläche"><a href="{{ url_for('naju.tree', id = tree['id']) }}">{{ tree['name'] }}</a></td>
                <td class="searchable Nummer"><a href="{{ url_for('naju.tree', id = tree['id']) }}">{{ tree['number'] }}</a></td>
                <td class="editable-cell"><a href="{{ url_for('naju.delete_tree', id = tree['id']) }}" onclick="return confirm('Wollen sie diesen Baum wirklich löschen? Er kann nicht wiederhergestellt werden!')"><i class="fas fa-trash"></i></a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</form>
{% endblock %}